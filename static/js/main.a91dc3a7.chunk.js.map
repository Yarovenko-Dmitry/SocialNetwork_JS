{"version":3,"sources":["hoc/withAuthRedirect.js","redux/dialogs-reducer.js","components/Users/users.module.css","assets/images/default_user.png","assets/images/loadingJS.gif","api/api.js","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersConteiner.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/siderbar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.jsx","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.jsx","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","internalState","dialogs","id","name","messages","message","sendMessageActionCreator","newMessageBody","type","dialogsReducer","action","body","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unFollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","Navbar","className","s","nav","item","activeClassName","activLink","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","pointCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","pagination","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","userPhoto","src","photos","small","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","page","totalCount","Header","header","loginBlock","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createFild","Input","required","formSummaryError","length","stopSubmit","_error","formData","log","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","component","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validate","text","style","backgroundColor","preloader","value","maxLengthCreator","maxLength","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.a91dc3a7.chunk.js","sourcesContent":["import {Redirect} from 'react-router-dom';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n\r\n    render() {\r\n      if (!this.props.isAuth) {\r\n        return <Redirect to={'/login'}/>\r\n      }\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}","// const UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY';\r\nconst SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet internalState = {\r\n  dialogs:\r\n    [\r\n      {id: 1, name: 'Dmitry'},\r\n      {id: 2, name: 'Andrey'},\r\n      {id: 3, name: 'Alexander'},\r\n      {id: 4, name: 'Victoriya'},\r\n      {id: 5, name: 'Nadezhda'},\r\n      {id: 6, name: 'Alex'}\r\n    ],\r\n  messages:\r\n    [\r\n      {id: 1, message: 'Hi'},\r\n      {id: 2, message: 'What it is'},\r\n      {id: 3, message: 'Go-go-go'},\r\n      {id: 4, message: 'Good'},\r\n      {id: 5, message: 'thanksgiving'},\r\n      {id: 6, message: 'fame and honor'}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = internalState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: 7, message: body}],\r\n      };\r\n    // case UPDATE_NEW_MESSAGE_BODY:\r\n    //   return {\r\n    //     ...state,\r\n    //     newMessageBody: action.body\r\n    //   };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n// export const updateNewMessageBodyCreator = (body) => ({type: UPDATE_NEW_MESSAGE_BODY, body: body});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__MX4oh\",\"selectedPage\":\"users_selectedPage__38k54\"};","module.exports = __webpack_public_path__ + \"static/media/default_user.58fd4a49.png\";","module.exports = __webpack_public_path__ + \"static/media/loadingJS.7fc09a2b.gif\";","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': '7670157b-55fb-46c4-91b5-ea5772613da8'\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data);\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n\r\n  },\r\n  unFollow(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  getProfile(userId) {\r\n    console.warn('Obsolute method. Please use profileAPI object')\r\n    return profileAPI.getProfile(userId);\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n   getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {status: status});\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe});\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3TONV\",\"item\":\"Navbar_item__2RqDs\",\"activLink\":\"Navbar_activLink__99gNt\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to={'/profile'} activeClassName={s.activLink}>JS Profile JS</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to={'/dialogs'} activeClassName={s.activLink}>JS Message JS</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to={'/users'} activeClassName={s.activLink}>JS Users JS</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to={'/news'} activeClassName={s.activLink}>JS News JS</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to={'/music'} activeClassName={s.activLink}>JS Music JS</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to={'/settings'} activeClassName={s.activLink}>JS Settings JS</NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport s from './News.module.css'\r\n\r\nconst News = () => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from './Music.module.css'\r\n\r\nconst Music = () => {\r\n  return (\r\n    <div>\r\n      Music\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from './Settings.module.css'\r\n\r\nconst Settings = () => {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return {...u, ...newObjProps}\r\n    }\r\n    return u;\r\n  })\r\n}\r\n\r\n","import {usersAPI} from '../api/api';\r\nimport {updateObjectInArray} from '../utils/object-helpers';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 100,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n      }\r\n    case SET_USERS: {\r\n      return {...state, users: action.users}\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return {...state, currentPage: action.currentPage}\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return {...state, totalUsersCount: action.count}\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {...state, isFetching: action.isFetching}\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress:\r\n          action.isFetching\r\n            ? [...state.followingInProgress, action.userId]\r\n            : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage: currentPage});\r\nexport const setTotalUsersCount = (totaUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totaUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    const data = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const response = await apiMethod(userId)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n  }\r\n}\r\n\r\nexport const unFollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unFollowSuccess)\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\ndebugger\r\n\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let pointCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.pagination}>\r\n      {portionNumber > 1 &&  <button onClick={() => {\r\n        setPortionNumber(portionNumber - 1)\r\n      }}>PREV</button>}\r\n\r\n\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => {\r\n          return <span className={ cn ({[styles.selectedPage]: currentPage === p}, styles.pageNumber)}\r\n                       key = {p}\r\n                       onClick={(e) => {\r\n                         onPageChanged(p);\r\n                       }}>{p}</span>\r\n        })}\r\n      {pointCount > portionNumber &&\r\n      <button onClick={() => { setPortionNumber(portionNumber+1)} }>NEXT</button>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/default_user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, unFollow, follow}) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={'/profile/' + user.id}>\r\n            <img\r\n              className={styles.userPhoto}\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}/>\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed\r\n            ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                      onClick={() => {\r\n                        unFollow(user.id)\r\n                      }}>Unfollow</button>\r\n            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                      onClick={() => {\r\n                        follow(user.id)\r\n                      }}>Follow</button>\r\n          }\r\n        </div>\r\n          </span>\r\n      <span>\r\n             <span>\r\n               <div> {user.name}</div>\r\n               <div>{user.status}</div>\r\n             </span>\r\n             <span>\r\n               <div>{\"user.location.country\"}</div>\r\n               <div>{'user.location.city'}</div>\r\n             </span>\r\n          </span>\r\n    </div>)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n\r\n  return (\r\n    <div>\r\n      <Paginator currentPage={currentPage}\r\n                 onPageChanged={onPageChanged}\r\n                 totalItemsCount={totalUsersCount}\r\n                 pageSize={pageSize}/>\r\n      <div>\r\n        {\r\n          users.map(u =>\r\n            <User\r\n              user={u}\r\n              followingInProgress={props.followingInProgress}\r\n              unFollow={props.unFollow}\r\n              follow={props.follow}\r\n              key={u.id}/>\r\n          )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingProgress, unFollow} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers\r\n} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const {currentPage, pageSize} = this.props\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const {getUsers, pageSize} = this.props\r\n    getUsers(pageNumber, pageSize);\r\n  }\r\n\r\n  render() {\r\n\r\n    return <>\r\n      {this.props.isFetching ?\r\n        <Preloader/>\r\n        : null}\r\n      <Users\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={this.props.users}\r\n        follow={this.props.follow}\r\n        unFollow={this.props.unFollow}\r\n        followingInProgress={this.props.followingInProgress}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, {follow, unFollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\r\n)(UsersContainer);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img\r\n        src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmZJl9r7JapjoydUuxwLEWyGBSJqFNwoBfRGlnZYdXzd-YoXY2Yo2ylJnjng&s'/>\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth\r\n          ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n          : <NavLink to={'/login'}>Login</NavLink>\r\n        }\r\n\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import {authAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>\r\n  ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {\r\n    let {id, email, login} = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n  return 'getAuthUserData result'\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    const messages = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n    dispatch(stopSubmit('login', {_error: messages}));\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Header {...this.props}/>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {createFild, Input} from '../common/FormsControls/FormsControls';\r\nimport {required} from '../../utils/validators/validators';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport styles from '../common/FormsControls/FormsControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createFild('Email', 'email', Input, [required])}\r\n      {createFild('Password', 'password', Input, [required], {type: 'password'})}\r\n      {createFild(null, 'rememberMe', Input, [], {type: 'checkbox'}, 'remember Me')}\r\n      {error && <div className={styles.formSummaryError}>\r\n        {error}\r\n      </div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    console.log(formData)\r\n    props.login(formData.email, formData.password, formData.rememberMe)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const promise = dispatch(getAuthUserData());\r\n  // !!! если промисов или условий много, то тогда через массив Promise.all([promise]).then ...\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n}\r\n\r\nexport default appReducer;","let internalState = {};\r\n\r\nconst sidebarReducer = (state = internalState, action) => {\r\n\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./siderbar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n  return (props) => {\r\n    return <React.Suspense fallback={<div>Loading</div>}>\r\n      <Component {...props}/>\r\n    </React.Suspense>\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Users/UsersConteiner\";\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport {connect, Provider} from 'react-redux';\r\nimport {compose} from 'redux';\r\nimport {initializeApp} from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport {withSuspense} from './hoc/withSuspense';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader/>\r\n    }\r\n\r\n    return (\r\n      <div className={'app-wrapper'}>\r\n        <HeaderContainer/>\r\n        <Navbar/>\r\n        <div className={'app-wrapper-content'}>\r\n          <Route path={'/profile/:userId?'}\r\n                 render={withSuspense(ProfileContainer)}/>\r\n          <Route path={'/dialogs'}\r\n                 render={withSuspense(DialogsContainer)}/>\r\n          <Route path={'/users'}\r\n                 render={() => <UsersContainer/>}/>\r\n          <Route path={'/login'}\r\n                 render={() => <LoginPage/>}/>\r\n\r\n\r\n          <Route path={'/news'}\r\n                 component={News}/>\r\n          <Route path={'/music'}\r\n                 component={Music}/>\r\n          <Route path={'/settings'}\r\n                 component={Settings}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToPropse = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToPropse, {initializeApp}))(App);\r\n\r\nexport const SamuraiJSApp = (props) => {\r\n  // return <HashRouter basename={process.env.PUBLIC_URL}>\r\n    return <HashRouter>\r\n    <Provider store={store}>\r\n      <AppContainer/>\r\n    </Provider>\r\n  </HashRouter>\r\n}\r\n","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {SamuraiJSApp} from './App';\r\n\r\nReactDOM.render(<SamuraiJSApp/>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\nimport styles from './FormsControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n      <div>\r\n        {children}\r\n      </div>\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, child, ...restProps} = props;\r\n  return (\r\n    <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, child, ...restProps} = props;\r\n  return (\r\n    <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n  )\r\n}\r\n\r\nexport const createFild = (placeholder, name, component, validate, props = {}, text = '') => {\r\n  return (\r\n    <div>\r\n      <Field placeholder={placeholder}\r\n             name={name}\r\n             component={component}\r\n             validate={validate}\r\n             {...props}\r\n      /> {text}\r\n    </div>\r\n  )\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__268Le\",\"error\":\"FormsControls_error__3SmbA\",\"formSummaryError\":\"FormsControls_formSummaryError__3zeuP\"};","import React from 'react';\r\nimport preloader from '../../../assets/images/loadingJS.gif'\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div style={{backgroundColor: 'green'}}>\r\n      <img src={preloader}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__3pBb6\",\"pageNumber\":\"Paginator_pageNumber__3Ap-V\",\"selectedPage\":\"Paginator_selectedPage__30gsc\"};","export const required = value => {\r\n  if (value) return undefined;\r\n  return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Max length is ${maxLength} symbols`;\r\n  }\r\n  return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Ye-s\",\"loginBlock\":\"Header_loginBlock__3dsO4\"};","import {profileAPI, usersAPI} from '../api/api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nconst internalState = {\r\n  posts:\r\n    [\r\n      {id: 1, message: 'Hi, how are you?', likesCount: 0},\r\n      {id: 2, message: 'It\\'s my first post', likesCount: 48},\r\n      {id: 3, message: 'Second post', likesCount: 8},\r\n      {id: 4, message: 'e-ge-gey', likesCount: 4}\r\n    ],\r\n  profile: null,\r\n  status: ''\r\n};\r\n\r\nconst profileReducer = (state = internalState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      };\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      };\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const deletePostActionCreator = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await usersAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport default profileReducer"],"sourceRoot":""}